@model List<OrderViewModel>

<h2>Order History</h2>

@if (!Model.Any())
{
  <p>No orders found.</p>
}
else
{
  <table class="table">
    <thead>
      <tr>
        <th>Order ID</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody>
      @foreach (var order in Model)
      {
        <tr>
          <td>@order.OrderId</td>
          <td>
            <table class="table table-sm">
              <thead>
                <tr>
                  <th>Product</th>
                  <th>Quantity</th>
                  <th>SubTotal</th>
                </tr>
              </thead>
              <tbody>
                @foreach (var detail in order.OrderDetails)
                {
                  <tr>
                    <td>@detail.ProductName</td>
                    <td>@detail.Quantity</td>
                    <td>@detail.SubTotal.ToString("C")</td>
                  </tr>
                }
              </tbody>
            </table>
          </td>
        </tr>
      }
    </tbody>
  </table>
}
